Factory generates objects from different classes